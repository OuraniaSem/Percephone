Data input-output
=================

An example folder for input-output is present in the folder data_example in the main branch.

Input folder
---------------
All the files to create instance of the class recording need to be in one folder
names with this format: YYYYMMDD_XXXX_NN with XXXX being the id of the recording session (usualy animal id) and NN the digit of the recording
if the session as several recordings the same day.

The following files should be present in the folder:

analog.txt
    Contains the analog traced (stimulation and ITI) and the timestanps. Generated from femtonics software.
bpod.xls
    Contains all the information about trials, reward, timeout, licks timings. Generated from pybpod.
iscell.npy
    Contains ids of neurons considered true and ids of neurons considered as inhbitory.
params_trial.json
    Contains informations about trials, notably the amplitude of stimulation and if it was a GO or a no-GO.
F.npy
    Calcium fluorescent signal traces for each neuron. From suite2p.  Dimension: (n_neurons * time)
Fneu.npy
    Calcium fluorescent neuropile signal traces for each neuron. From suite2p. Dimension: (n_neurons * time)
spks.npy
    Spikes trains for each neuron, obtained from the deconvolution of the calcium traces. From suite2p.  Dimension: (n_neurons * time)

Group metada excel sheet
-------------------------
In order to do group analysis for several recordings consecutively, an excel sheet containing all the metada for each
recording is needed. One example of the structure of the sheet, named group_metadata.xslx,
is avaiable in the data_example folder in the main branch.

Ouput files
---------------

Trough the different automatic processes in Percephone like synchronisation, computation of delta F/F and others,
multiple files will be generated automatically in the input folder in order to increase speed of process for next utilizations or save usefull information.
These files are the following:

analog_synchronized.csv
    same as analog but the time is now synchronized between stimulations and F traces. The format is csv to speed up the
    reading the next utilizations.
df_f_exc.npy
    delta f over f traces for each excitatory neurons. Dimension: (n_neurons * time)
df_f_inh.npy
    delta f over f traces for each inhibitory neurons. Dimension: (n_neurons * time)
behavior_events.json
    behavioral events like stimulation, reward, licks, detection synchronized timings.

Others files could be generated by specific functions in Percephone to save data in excel sheets for examples.
Please see there specific usage documention to see the information relative to them.